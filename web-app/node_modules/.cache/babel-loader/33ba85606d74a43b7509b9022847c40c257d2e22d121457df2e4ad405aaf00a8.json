{"ast":null,"code":"import _toConsumableArray from\"C:/Users/yuval/Documents/GitHub/ex2_mitkadem2/web-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/yuval/Documents/GitHub/ex2_mitkadem2/web-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import $ from'jquery';import{render}from\"react-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SendBox(_ref){var chatList=_ref.chatList,setCurrentChatList=_ref.setCurrentChatList,currentUser=_ref.currentUser,currentChat=_ref.currentChat,contacts=_ref.contacts,setCurrenChat=_ref.setCurrenChat;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var handleTextChange=function handleTextChange(event){setMessage(event.target.value);};var nextVersion=function nextVersion(event){alert(\"This feature is only for premium users right now..\");};var sendMessage=function sendMessage(event){if(message===\"\"){return;}if(currentChat==\"\"){return;}var newChat=chatList;var newMessage=message.slice();newChat.push({text:newMessage,sender:\"send\",time:new Date().toLocaleTimeString()});setCurrentChatList(function(prevChat){return[].concat(_toConsumableArray(prevChat),[newMessage]);});var contact=contacts.find(function(contact){return contact.name===currentChat;});var index=contacts.indexOf(contact);contacts.splice(index,1);contacts.unshift(contact);contact.chatList=chatList;$(\"#send\").val(\"\");setMessage(\"\");};return/*#__PURE__*/_jsxs(\"div\",{id:\"send_message\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handleTextChange,className:\"form-control rounded-0\",id:\"send\",\"aria-describedby\":\"emailHelp\",placeholder:\"Enter your message here...\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-light btn-sm textColor\",id:\"send_btn\",onClick:sendMessage,children:\"Send\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-outline-light btn-sm textColor\",id:\"send_btn\",disabled:true,onClick:nextVersion,children:[\"Attach A File  \",/*#__PURE__*/_jsx(\"small\",{children:\"(this feature will be available in the next update)\"})]})]});}export default SendBox;","map":{"version":3,"names":["useEffect","useState","$","render","jsx","_jsx","jsxs","_jsxs","SendBox","_ref","chatList","setCurrentChatList","currentUser","currentChat","contacts","setCurrenChat","_useState","_useState2","_slicedToArray","message","setMessage","handleTextChange","event","target","value","nextVersion","alert","sendMessage","newChat","newMessage","slice","push","text","sender","time","Date","toLocaleTimeString","prevChat","concat","_toConsumableArray","contact","find","name","index","indexOf","splice","unshift","val","id","children","type","onChange","className","placeholder","onClick","disabled"],"sources":["C:/Users/yuval/Documents/GitHub/ex2_mitkadem2/web-app/src/chat/SendBox.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport $ from 'jquery';\r\nimport { render } from \"react-dom\";\r\n\r\nfunction SendBox({chatList, setCurrentChatList, currentUser, currentChat, contacts, setCurrenChat}) {\r\n    const [message, setMessage] = useState(\"\");\r\n    const handleTextChange = (event) => {\r\n        setMessage(event.target.value);\r\n    }\r\n\r\n    const nextVersion = (event) => {\r\n        alert(\"This feature is only for premium users right now..\");\r\n    }\r\n\r\n  \r\n\r\n    const sendMessage = (event) => {\r\n        if(message === \"\") {\r\n            return;\r\n        }\r\n        if(currentChat ==\"\"){\r\n            return;\r\n        }\r\n        var newChat = chatList;\r\n        var newMessage = message.slice();\r\n        newChat.push({text:newMessage, sender:\"send\", time: new Date().toLocaleTimeString()});\r\n        setCurrentChatList((prevChat) => [...prevChat, newMessage]);\r\n        const contact = contacts.find(contact => contact.name === currentChat);\r\n        let index = contacts.indexOf(contact);\r\n        contacts.splice(index,1);\r\n        contacts.unshift(contact);\r\n        contact.chatList = chatList;\r\n        $(\"#send\").val(\"\");\r\n        setMessage(\"\");\r\n    }\r\n\r\n\r\n    return (\r\n        <div id=\"send_message\">\r\n            <input type=\"text\"  onChange={handleTextChange} className=\"form-control rounded-0\" id=\"send\" aria-describedby=\"emailHelp\" placeholder=\"Enter your message here...\" />\r\n            <button type=\"button\" className=\"btn btn-outline-light btn-sm textColor\" id=\"send_btn\" onClick={sendMessage}>\r\n                Send\r\n            </button>\r\n            <button type=\"button\" className=\"btn btn-outline-light btn-sm textColor\" id=\"send_btn\" disabled onClick={nextVersion}>\r\n                Attach A File  <small>(this feature will be available in the next update)</small>\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\nexport default SendBox;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}