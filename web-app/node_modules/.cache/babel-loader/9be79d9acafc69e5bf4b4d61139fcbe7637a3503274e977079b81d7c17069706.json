{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/yuval/Documents/GitHub/ex2_mitkadem2/web-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/yuval/Documents/GitHub/ex2_mitkadem2/web-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/yuval/Documents/GitHub/ex2_mitkadem2/web-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import PasswordInput from\"./PasswordInput\";import PreviewImage from\"./PreviewImage\";import TextInput from\"./TextInput\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RegisterPage(_ref){var usernameList=_ref.usernameList,displayName=_ref.displayName,setDisplayName=_ref.setDisplayName;function isValidName(name){var nameRegex=/^[a-zA-Z0-9]+(([',. -][a-zA-Z0-9 ])?[a-zA-Z0-9]*)*$/;return nameRegex.test(name);}var _useState=useState(''),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isUsernameValid=_useState4[0],setIsUsernameValid=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isPasswordValid=_useState6[0],setIsPasswordValid=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),vPassword=_useState8[0],setvPassword=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),username=_useState10[0],setUsername=_useState10[1];var _useState11=useState(\"/logo.jpg\"),_useState12=_slicedToArray(_useState11,2),previewImg=_useState12[0],setPreviewImg=_useState12[1];var navigate=useNavigate();var handleRegister=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var newUser,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(isUsernameValid){_context.next=3;break;}alert(\"Username is not valid!\");return _context.abrupt(\"return\");case 3:if(isPasswordValid){_context.next=6;break;}alert(\"Password is not valid!\");return _context.abrupt(\"return\");case 6:if(!(password!=vPassword)){_context.next=9;break;}alert(\"Passwords are not the same!\");return _context.abrupt(\"return\");case 9:if(isValidName(displayName)){_context.next=12;break;}alert(\"You must have a display name!\");return _context.abrupt(\"return\");case 12:newUser={\"username\":username,\"password\":password,\"displayName\":displayName,\"profilePic\":previewImg};_context.next=15;return fetch('http://localhost:5000/api/Users',{'method':'post',// send a post request\n'headers':{'Content-Type':'application/json'// the data (username/password) is in the form of a JSON object\n},'body':JSON.stringify(newUser)// The actual data (username/password)\n});case 15:res=_context.sent;if(res.ok){navigate(\"/\");}else{// Handle error cases\nalert(\"username or password are wrong\");}case 17:case\"end\":return _context.stop();}},_callee);}));return function handleRegister(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"login\",children:[/*#__PURE__*/_jsx(TextInput,{className:\"username-class\",id:\"username\",username:username,setUsername:setUsername,setIsUsernameValid:setIsUsernameValid,usernameList:usernameList}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(PasswordInput,{className:\"password\",id:\"password\",password:password,setPassword:setPassword,isPasswordValid:isPasswordValid,setIsPasswordValid:setIsPasswordValid}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(PasswordInput,{className:\"password_validation\",id:\"password_validation\",password:password,setPassword:setPassword,vPassword:vPassword,setvPassword:setvPassword}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TextInput,{className:\"display-name-class\",id:\"display-name\",displayName:displayName,setDisplayName:setDisplayName}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(PreviewImage,{previewImg:previewImg,setPreviewImg:setPreviewImg}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-light btn-sm textColor\",id:\"register_button\",onClick:handleRegister,children:\"Register\"}),\" \",/*#__PURE__*/_jsx(\"br\",{})]})});}export default RegisterPage;","map":{"version":3,"names":["React","useState","useNavigate","PasswordInput","PreviewImage","TextInput","jsx","_jsx","jsxs","_jsxs","RegisterPage","_ref","usernameList","displayName","setDisplayName","isValidName","name","nameRegex","test","_useState","_useState2","_slicedToArray","password","setPassword","_useState3","_useState4","isUsernameValid","setIsUsernameValid","_useState5","_useState6","isPasswordValid","setIsPasswordValid","_useState7","_useState8","vPassword","setvPassword","_useState9","_useState10","username","setUsername","_useState11","_useState12","previewImg","setPreviewImg","navigate","handleRegister","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","newUser","res","wrap","_callee$","_context","prev","next","alert","abrupt","fetch","JSON","stringify","sent","ok","stop","_x","apply","arguments","children","className","id","type","onClick"],"sources":["C:/Users/yuval/Documents/GitHub/ex2_mitkadem2/web-app/src/register/RegisterPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport PasswordInput from \"./PasswordInput\";\r\nimport PreviewImage from \"./PreviewImage\";\r\nimport TextInput from \"./TextInput\";\r\nfunction RegisterPage({usernameList,displayName, setDisplayName}){\r\n\r\n  function isValidName(name) {\r\n    const nameRegex = /^[a-zA-Z0-9]+(([',. -][a-zA-Z0-9 ])?[a-zA-Z0-9]*)*$/;\r\n    return nameRegex.test(name);\r\n  }\r\n  const [password, setPassword] = useState('');\r\n  const [isUsernameValid, setIsUsernameValid] = useState(false);\r\n  const [isPasswordValid, setIsPasswordValid] = useState(false);\r\n  const [vPassword, setvPassword] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [previewImg, setPreviewImg] = useState(\"/logo.jpg\");\r\n  const navigate = useNavigate();\r\n\r\n    const handleRegister = async (event) =>{\r\n        if(!isUsernameValid){\r\n          alert(\"Username is not valid!\");\r\n          return;\r\n        }\r\n        \r\n        if(!isPasswordValid){\r\n          alert(\"Password is not valid!\");\r\n          return;\r\n        }\r\n        if(password != vPassword){\r\n          alert(\"Passwords are not the same!\");\r\n          return;\r\n        }\r\n        if(!isValidName(displayName)){\r\n          alert(\"You must have a display name!\")\r\n          return;\r\n        }\r\n        var newUser = {\r\n          \"username\":username,\r\n           \"password\":password,\r\n           \"displayName\":displayName,\r\n           \"profilePic\":previewImg,\r\n          };\r\n          const res = await fetch('http://localhost:5000/api/Users', {\r\n            'method': 'post', // send a post request\r\n            'headers': {\r\n            'Content-Type': 'application/json', // the data (username/password) is in the form of a JSON object\r\n            },\r\n            'body': JSON.stringify(newUser) // The actual data (username/password)\r\n            }\r\n            )\r\n            if (res.ok) {\r\n             navigate(\"/\");\r\n            } else {\r\n              // Handle error cases\r\n              alert(\"username or password are wrong\")\r\n            }\r\n           \r\n    }\r\n\r\n\r\n    return (\r\n        <main>\r\n        <form className=\"login\" >\r\n          <TextInput className=\"username-class\" id=\"username\" username={username} setUsername={setUsername} setIsUsernameValid={setIsUsernameValid} usernameList={usernameList}/>\r\n          <br/>\r\n          <PasswordInput className=\"password\" id=\"password\" password={password} setPassword={setPassword} isPasswordValid={isPasswordValid} setIsPasswordValid={setIsPasswordValid} />\r\n          <br/>\r\n          <PasswordInput className=\"password_validation\" id=\"password_validation\" password={password} setPassword={setPassword} vPassword={vPassword} setvPassword={setvPassword} />\r\n          <br/>\r\n          <TextInput className=\"display-name-class\" id=\"display-name\" displayName={displayName} setDisplayName={setDisplayName} />\r\n          <br/>\r\n          <PreviewImage previewImg={previewImg} setPreviewImg={setPreviewImg} />\r\n          <br/>\r\n          <button type=\"button\" className=\"btn btn-outline-light btn-sm textColor\" id=\"register_button\" onClick={handleRegister}>Register</button> <br />      \r\n        </form>\r\n        \r\n      </main>\r\n    );\r\n}\r\n\r\nexport default RegisterPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}